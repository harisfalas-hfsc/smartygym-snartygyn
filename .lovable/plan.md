
# Implementation Plan: Workout Bullet Points & Section Icons

## Problem Summary
Your workouts are NOT displaying bullet points because:
1. The database content has `<ul class="tiptap-bullet-list">` HTML tags
2. BUT the frontend CSS is missing styles for these classes
3. Section icons (ðŸ”¥) are not being generated by the AI

Your reference image (HHHHHHH.png) shows the desired format with fire emoji icons and visible bullet points.

---

## Part 1: Fix CSS for Bullet Point Rendering

**File:** `src/index.css`

Add global styles for tiptap list classes so bullets render when viewing workouts:

```css
/* Tiptap bullet list styling for public workout display */
.prose ul.tiptap-bullet-list,
.prose-sm ul.tiptap-bullet-list,
.text-display ul.tiptap-bullet-list,
ul.tiptap-bullet-list {
  list-style-type: disc;
  padding-left: 1.5rem;
  margin: 0.5rem 0;
}

.prose li.tiptap-list-item,
.prose-sm li.tiptap-list-item,
.text-display li.tiptap-list-item,
li.tiptap-list-item {
  margin: 0.25rem 0;
  display: list-item;
}

.prose li.tiptap-list-item p,
.prose-sm li.tiptap-list-item p,
.text-display li.tiptap-list-item p,
li.tiptap-list-item p {
  margin: 0;
  display: inline;
}
```

**This will immediately fix the bullet point rendering for ALL existing workouts without any database changes.**

---

## Part 2: Add Section Icons to AI Generation Prompts

Update the WOD generation prompt to include emoji icons in section headers.

**File:** `supabase/functions/generate-workout-of-day/index.ts`

Change the gold standard template from:
```html
<p class="tiptap-paragraph"><strong><u>Warm Up 15'</u></strong></p>
```

To:
```html
<p class="tiptap-paragraph">ðŸ”¥ <strong><u>Warm Up 15'</u></strong></p>
```

**Section Icon Mapping:**
| Section | Icon | Example |
|---------|------|---------|
| Warm Up / Soft Tissue Prep | ðŸ”¥ | ðŸ”¥ Warm Up 15' |
| Activation | ðŸ”¥ | ðŸ”¥ Activation 15' |
| Main Workout | ðŸ’ª | ðŸ’ª Main Workout |
| Finisher | âš¡ | âš¡ Finisher |
| Cool Down | ðŸ§˜ | ðŸ§˜ Cool Down 10' |

---

## Part 3: Update Training Program Generation

**File:** `supabase/functions/generate-training-program/index.ts`

Apply the same icon formatting rules to training program generation.

---

## Part 4: Migrate Existing Content (Database Update)

Create a one-time migration to add icons to existing workouts and training programs.

**Approach:** SQL UPDATE to prepend icons to section headers in `main_workout`, `warm_up`, `activation`, `finisher`, `cool_down` fields.

**Pattern to find and replace:**
- `<strong><u>Warm Up` â†’ `ðŸ”¥ <strong><u>Warm Up`
- `<strong><u>Activation` â†’ `ðŸ”¥ <strong><u>Activation`
- `<strong><u>Soft Tissue` â†’ `ðŸ”¥ <strong><u>Soft Tissue`
- `<strong><u>Main Workout` â†’ `ðŸ’ª <strong><u>Main Workout`
- `<strong><u>Finisher` â†’ `âš¡ <strong><u>Finisher`
- `<strong><u>Cool Down` â†’ `ðŸ§˜ <strong><u>Cool Down`

This will update approximately 176 workouts and 28 training programs.

---

## Files to Modify

1. `src/index.css` - Add tiptap list CSS styles
2. `supabase/functions/generate-workout-of-day/index.ts` - Update gold standard template with icons
3. `supabase/functions/generate-training-program/index.ts` - Update template with icons
4. Database migration - One-time update to add icons to existing content

---

## Expected Outcome

**Immediately after CSS fix:**
- All existing workouts will show bullet points (â€¢) before exercises
- No database changes needed for bullets

**After prompt updates:**
- All future WODs will have section icons (ðŸ”¥ðŸ’ªâš¡ðŸ§˜)
- All future training programs will have section icons

**After database migration:**
- All existing workouts and programs will have section icons

---

## Technical Notes

- The CSS fix is the most critical - it will instantly fix 176+ workouts
- Icons are emoji-based (universal support, no external dependencies)
- The changes respect existing formatting philosophy and HTML structure
- Both light and dark mode will display correctly
